<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Mobile Quick Approve</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            -webkit-tap-highlight-color: transparent;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
            background: #f3f4f6;
            color: #111827;
            height: 100vh;
            overflow: hidden;
            touch-action: pan-y;
        }

        .mobile-container {
            height: 100vh;
            display: flex;
            flex-direction: column;
            max-width: 428px;
            margin: 0 auto;
            background: white;
        }

        /* Mobile Header */
        .mobile-header {
            background: white;
            padding: 0.75rem 1rem;
            border-bottom: 1px solid #e5e7eb;
            display: flex;
            justify-content: space-between;
            align-items: center;
            position: relative;
        }

        .header-title {
            font-size: 1.125rem;
            font-weight: 600;
            color: #111827;
        }

        .notification-badge {
            position: relative;
            padding: 0.5rem;
            background: #fef3c7;
            border-radius: 50%;
            color: #92400e;
        }

        .notification-count {
            position: absolute;
            top: -2px;
            right: -2px;
            background: #ef4444;
            color: white;
            font-size: 0.625rem;
            font-weight: bold;
            padding: 0.125rem 0.25rem;
            border-radius: 0.625rem;
            min-width: 1rem;
            text-align: center;
        }

        /* Status Bar */
        .status-bar {
            background: linear-gradient(to right, #10b981, #3b82f6);
            color: white;
            padding: 0.5rem 1rem;
            font-size: 0.875rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .status-metric {
            display: flex;
            align-items: center;
            gap: 0.25rem;
        }

        /* Swipe Cards Container */
        .cards-container {
            flex: 1;
            position: relative;
            overflow: hidden;
            background: #f9fafb;
        }

        .swipe-card {
            position: absolute;
            width: calc(100% - 2rem);
            left: 1rem;
            top: 1rem;
            bottom: 6rem;
            background: white;
            border-radius: 1rem;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            display: flex;
            flex-direction: column;
            transition: transform 0.3s ease, opacity 0.3s ease;
            cursor: grab;
            touch-action: none;
        }

        .swipe-card.dragging {
            transition: none;
            cursor: grabbing;
        }

        .swipe-card.swiped-left {
            transform: translateX(-120%) rotate(-20deg);
            opacity: 0;
        }

        .swipe-card.swiped-right {
            transform: translateX(120%) rotate(20deg);
            opacity: 0;
        }

        .swipe-card.swiped-up {
            transform: translateY(-120%) scale(0.8);
            opacity: 0;
        }

        /* Card Header */
        .card-header {
            padding: 1rem;
            border-bottom: 1px solid #e5e7eb;
        }

        .customer-name {
            font-size: 1.25rem;
            font-weight: 600;
            color: #111827;
            margin-bottom: 0.25rem;
        }

        .order-info {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-top: 0.5rem;
        }

        .po-number {
            font-size: 0.875rem;
            color: #6b7280;
        }

        .confidence-badge {
            padding: 0.25rem 0.5rem;
            border-radius: 0.25rem;
            font-size: 0.75rem;
            font-weight: 500;
            background: #dcfce7;
            color: #15803d;
        }

        /* Card Body */
        .card-body {
            flex: 1;
            padding: 1rem;
            overflow-y: auto;
            -webkit-overflow-scrolling: touch;
        }

        .amount-display {
            text-align: center;
            padding: 1.5rem 0;
            background: #f9fafb;
            border-radius: 0.5rem;
            margin-bottom: 1rem;
        }

        .amount-label {
            font-size: 0.875rem;
            color: #6b7280;
            margin-bottom: 0.5rem;
        }

        .amount-value {
            font-size: 2.5rem;
            font-weight: 700;
            color: #111827;
        }

        .key-info {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 0.75rem;
            margin-bottom: 1rem;
        }

        .info-item {
            padding: 0.75rem;
            background: #f9fafb;
            border-radius: 0.5rem;
        }

        .info-label {
            font-size: 0.75rem;
            color: #6b7280;
            margin-bottom: 0.25rem;
        }

        .info-value {
            font-size: 0.875rem;
            font-weight: 600;
            color: #111827;
        }

        .alert-box {
            background: #fef3c7;
            border: 1px solid #fcd34d;
            border-radius: 0.5rem;
            padding: 0.75rem;
            margin-bottom: 1rem;
            display: flex;
            gap: 0.5rem;
        }

        .alert-icon {
            color: #f59e0b;
            font-size: 1.25rem;
        }

        .alert-content {
            flex: 1;
        }

        .alert-title {
            font-size: 0.875rem;
            font-weight: 600;
            color: #92400e;
            margin-bottom: 0.25rem;
        }

        .alert-message {
            font-size: 0.75rem;
            color: #92400e;
        }

        /* Quick Actions */
        .quick-actions {
            padding: 0.75rem;
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 0.5rem;
        }

        .quick-btn {
            padding: 0.5rem;
            background: white;
            border: 1px solid #e5e7eb;
            border-radius: 0.5rem;
            font-size: 0.75rem;
            color: #6b7280;
            text-align: center;
            cursor: pointer;
            transition: all 0.2s;
        }

        .quick-btn:active {
            background: #f3f4f6;
            transform: scale(0.95);
        }

        /* Swipe Indicators */
        .swipe-indicators {
            position: absolute;
            bottom: 5.5rem;
            left: 0;
            right: 0;
            padding: 0 2rem;
            display: flex;
            justify-content: space-between;
            pointer-events: none;
        }

        .swipe-hint {
            padding: 0.5rem 1rem;
            background: white;
            border-radius: 2rem;
            font-size: 0.875rem;
            font-weight: 500;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
            opacity: 0;
            transform: scale(0.8);
            transition: all 0.3s ease;
        }

        .swipe-hint.active {
            opacity: 1;
            transform: scale(1);
        }

        .swipe-left {
            background: #fee2e2;
            color: #991b1b;
        }

        .swipe-right {
            background: #dcfce7;
            color: #15803d;
        }

        .swipe-up {
            position: absolute;
            left: 50%;
            transform: translateX(-50%);
            background: #dbeafe;
            color: #1e40af;
        }

        /* Bottom Navigation */
        .bottom-nav {
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            background: white;
            border-top: 1px solid #e5e7eb;
            padding: 0.75rem;
            display: flex;
            justify-content: space-around;
            align-items: center;
        }

        .nav-item {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 0.25rem;
            padding: 0.5rem;
            color: #6b7280;
            font-size: 0.75rem;
            cursor: pointer;
            transition: color 0.2s;
        }

        .nav-item.active {
            color: #3b82f6;
        }

        .nav-icon {
            font-size: 1.25rem;
        }

        /* Action Feedback */
        .action-feedback {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            padding: 1rem 2rem;
            background: white;
            border-radius: 1rem;
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.2);
            font-size: 1.125rem;
            font-weight: 600;
            opacity: 0;
            pointer-events: none;
            transition: all 0.3s ease;
            z-index: 1000;
        }

        .action-feedback.show {
            opacity: 1;
            transform: translate(-50%, -50%) scale(1.1);
        }

        .action-feedback.approve {
            background: #10b981;
            color: white;
        }

        .action-feedback.reject {
            background: #ef4444;
            color: white;
        }

        .action-feedback.hold {
            background: #3b82f6;
            color: white;
        }

        /* Empty State */
        .empty-state {
            position: absolute;
            inset: 1rem;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            text-align: center;
            opacity: 0;
            pointer-events: none;
            transition: opacity 0.5s ease;
        }

        .empty-state.show {
            opacity: 1;
            pointer-events: auto;
        }

        .empty-icon {
            font-size: 4rem;
            margin-bottom: 1rem;
        }

        .empty-title {
            font-size: 1.25rem;
            font-weight: 600;
            color: #111827;
            margin-bottom: 0.5rem;
        }

        .empty-message {
            font-size: 0.875rem;
            color: #6b7280;
        }

        /* Loading State */
        .loading-spinner {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 40px;
            height: 40px;
            border: 3px solid #e5e7eb;
            border-top-color: #3b82f6;
            border-radius: 50%;
            animation: spin 1s linear infinite;
        }

        @keyframes spin {
            to { transform: translate(-50%, -50%) rotate(360deg); }
        }

        /* Tutorial Overlay */
        .tutorial-overlay {
            position: fixed;
            inset: 0;
            background: rgba(0, 0, 0, 0.8);
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 2rem;
            z-index: 2000;
            opacity: 0;
            pointer-events: none;
            transition: opacity 0.3s ease;
        }

        .tutorial-overlay.show {
            opacity: 1;
            pointer-events: auto;
        }

        .tutorial-content {
            background: white;
            border-radius: 1rem;
            padding: 1.5rem;
            max-width: 300px;
            text-align: center;
        }

        .tutorial-title {
            font-size: 1.125rem;
            font-weight: 600;
            margin-bottom: 1rem;
        }

        .gesture-demo {
            padding: 2rem 0;
            font-size: 3rem;
        }

        .tutorial-text {
            font-size: 0.875rem;
            color: #6b7280;
            margin-bottom: 1rem;
        }

        .tutorial-btn {
            width: 100%;
            padding: 0.75rem;
            background: #3b82f6;
            color: white;
            border: none;
            border-radius: 0.5rem;
            font-size: 0.875rem;
            font-weight: 500;
            cursor: pointer;
        }
    </style>
</head>
<body>
    <div class="mobile-container">
        <!-- Mobile Header -->
        <div class="mobile-header">
            <h1 class="header-title">Quick Approve</h1>
            <div class="notification-badge">
                ⚡
                <span class="notification-count">5</span>
            </div>
        </div>

        <!-- Status Bar -->
        <div class="status-bar">
            <div class="status-metric">
                <span>📦</span>
                <span>5 pending</span>
            </div>
            <div class="status-metric">
                <span>✓</span>
                <span>12 today</span>
            </div>
            <div class="status-metric">
                <span>💰</span>
                <span>$145K</span>
            </div>
        </div>

        <!-- Swipe Cards Container -->
        <div class="cards-container" id="cardsContainer">
            <!-- Card 1 -->
            <div class="swipe-card" data-index="0">
                <div class="card-header">
                    <div class="customer-name">Steel Supply Co</div>
                    <div class="order-info">
                        <span class="po-number">PO-2024-8904</span>
                        <span class="confidence-badge">87% confidence</span>
                    </div>
                </div>
                <div class="card-body">
                    <div class="amount-display">
                        <div class="amount-label">Order Total</div>
                        <div class="amount-value">$18,500</div>
                    </div>
                    <div class="key-info">
                        <div class="info-item">
                            <div class="info-label">Payment Terms</div>
                            <div class="info-value">NET-30 ✓</div>
                        </div>
                        <div class="info-item">
                            <div class="info-label">Credit Available</div>
                            <div class="info-value">$42,500 ✓</div>
                        </div>
                        <div class="info-item">
                            <div class="info-label">Delivery</div>
                            <div class="info-value">Tomorrow</div>
                        </div>
                        <div class="info-item">
                            <div class="info-label">Items</div>
                            <div class="info-value">5 items</div>
                        </div>
                    </div>
                    <div class="alert-box">
                        <div class="alert-icon">⚠</div>
                        <div class="alert-content">
                            <div class="alert-title">Partial Stock</div>
                            <div class="alert-message">Rebar 1/2" - Need 200, Have 150. Can ship from North Branch.</div>
                        </div>
                    </div>
                    <div class="quick-actions">
                        <button class="quick-btn">📞 Call</button>
                        <button class="quick-btn">📋 Details</button>
                        <button class="quick-btn">💬 Note</button>
                    </div>
                </div>
            </div>

            <!-- Card 2 (behind) -->
            <div class="swipe-card" data-index="1" style="transform: scale(0.95) translateY(20px); z-index: -1;">
                <div class="card-header">
                    <div class="customer-name">Metro Contractors</div>
                    <div class="order-info">
                        <span class="po-number">PO-2024-8905</span>
                        <span class="confidence-badge">72% confidence</span>
                    </div>
                </div>
                <div class="card-body">
                    <div class="amount-display">
                        <div class="amount-label">Order Total</div>
                        <div class="amount-value">$32,000</div>
                    </div>
                </div>
            </div>

            <!-- Card 3 (behind) -->
            <div class="swipe-card" data-index="2" style="transform: scale(0.9) translateY(40px); z-index: -2;">
                <div class="card-header">
                    <div class="customer-name">ACME Construction</div>
                    <div class="order-info">
                        <span class="po-number">PO-2024-8906</span>
                        <span class="confidence-badge">95% confidence</span>
                    </div>
                </div>
                <div class="card-body">
                    <div class="amount-display">
                        <div class="amount-label">Order Total</div>
                        <div class="amount-value">$24,500</div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Swipe Indicators -->
        <div class="swipe-indicators">
            <div class="swipe-hint swipe-left" id="rejectHint">← Reject</div>
            <div class="swipe-hint swipe-up" id="holdHint">↑ Hold</div>
            <div class="swipe-hint swipe-right" id="approveHint">Approve →</div>
        </div>

        <!-- Bottom Navigation -->
        <div class="bottom-nav">
            <div class="nav-item active">
                <span class="nav-icon">⚡</span>
                <span>Queue</span>
            </div>
            <div class="nav-item">
                <span class="nav-icon">📊</span>
                <span>Stats</span>
            </div>
            <div class="nav-item">
                <span class="nav-icon">🔍</span>
                <span>Search</span>
            </div>
            <div class="nav-item">
                <span class="nav-icon">⚙️</span>
                <span>Settings</span>
            </div>
        </div>

        <!-- Action Feedback -->
        <div class="action-feedback" id="actionFeedback"></div>

        <!-- Empty State -->
        <div class="empty-state" id="emptyState">
            <div class="empty-icon">🎉</div>
            <div class="empty-title">All caught up!</div>
            <div class="empty-message">No orders need your attention right now</div>
        </div>

        <!-- Tutorial Overlay -->
        <div class="tutorial-overlay" id="tutorialOverlay">
            <div class="tutorial-content">
                <h3 class="tutorial-title">Quick Approve Gestures</h3>
                <div class="gesture-demo">👉</div>
                <p class="tutorial-text">
                    Swipe right to approve<br>
                    Swipe left to reject<br>
                    Swipe up to hold for review<br>
                    Tap for details
                </p>
                <button class="tutorial-btn" onclick="closeTutorial()">Got it!</button>
            </div>
        </div>
    </div>

    <script>
        let currentCard = null;
        let startX = 0;
        let startY = 0;
        let currentX = 0;
        let currentY = 0;
        let cards = [];

        // Initialize cards
        function initCards() {
            cards = Array.from(document.querySelectorAll('.swipe-card'));
            if (cards.length > 0) {
                setupCard(cards[0]);
            }
        }

        // Setup card for swiping
        function setupCard(card) {
            currentCard = card;
            
            // Touch events
            card.addEventListener('touchstart', handleStart, { passive: true });
            card.addEventListener('touchmove', handleMove, { passive: true });
            card.addEventListener('touchend', handleEnd);
            
            // Mouse events for desktop testing
            card.addEventListener('mousedown', handleStart);
            card.addEventListener('mousemove', handleMove);
            card.addEventListener('mouseup', handleEnd);
            card.addEventListener('mouseleave', handleEnd);
        }

        function handleStart(e) {
            if (!currentCard) return;
            
            currentCard.classList.add('dragging');
            
            if (e.type === 'touchstart') {
                startX = e.touches[0].clientX;
                startY = e.touches[0].clientY;
            } else {
                startX = e.clientX;
                startY = e.clientY;
            }
        }

        function handleMove(e) {
            if (!currentCard || !currentCard.classList.contains('dragging')) return;
            
            if (e.type === 'touchmove') {
                currentX = e.touches[0].clientX - startX;
                currentY = e.touches[0].clientY - startY;
            } else if (e.buttons === 1) {
                currentX = e.clientX - startX;
                currentY = e.clientY - startY;
            } else {
                return;
            }
            
            // Apply transform
            currentCard.style.transform = `translate(${currentX}px, ${currentY}px) rotate(${currentX * 0.1}deg)`;
            
            // Show hints based on position
            updateHints();
        }

        function handleEnd(e) {
            if (!currentCard) return;
            
            currentCard.classList.remove('dragging');
            
            const threshold = 100;
            const verticalThreshold = 150;
            
            if (Math.abs(currentX) > threshold || Math.abs(currentY) > verticalThreshold) {
                let action = '';
                
                if (currentY < -verticalThreshold) {
                    // Swipe up - Hold
                    currentCard.classList.add('swiped-up');
                    action = 'hold';
                    showFeedback('On Hold', 'hold');
                } else if (currentX > threshold) {
                    // Swipe right - Approve
                    currentCard.classList.add('swiped-right');
                    action = 'approve';
                    showFeedback('Approved!', 'approve');
                } else if (currentX < -threshold) {
                    // Swipe left - Reject
                    currentCard.classList.add('swiped-left');
                    action = 'reject';
                    showFeedback('Rejected', 'reject');
                }
                
                // Remove card and show next
                setTimeout(() => {
                    currentCard.remove();
                    cards.shift();
                    
                    if (cards.length > 0) {
                        // Update remaining cards
                        cards.forEach((card, index) => {
                            if (index === 0) {
                                card.style.transform = '';
                                card.style.zIndex = '';
                                setupCard(card);
                            } else if (index === 1) {
                                card.style.transform = 'scale(0.95) translateY(20px)';
                                card.style.zIndex = '-1';
                            }
                        });
                        
                        // Update count
                        updateCount();
                    } else {
                        // Show empty state
                        document.getElementById('emptyState').classList.add('show');
                    }
                }, 300);
            } else {
                // Snap back
                currentCard.style.transform = '';
            }
            
            // Reset
            currentX = 0;
            currentY = 0;
            hideHints();
        }

        function updateHints() {
            const rejectHint = document.getElementById('rejectHint');
            const approveHint = document.getElementById('approveHint');
            const holdHint = document.getElementById('holdHint');
            
            // Reset all
            rejectHint.classList.remove('active');
            approveHint.classList.remove('active');
            holdHint.classList.remove('active');
            
            if (currentX < -50) {
                rejectHint.classList.add('active');
            } else if (currentX > 50) {
                approveHint.classList.add('active');
            } else if (currentY < -50) {
                holdHint.classList.add('active');
            }
        }

        function hideHints() {
            document.querySelectorAll('.swipe-hint').forEach(hint => {
                hint.classList.remove('active');
            });
        }

        function showFeedback(message, type) {
            const feedback = document.getElementById('actionFeedback');
            feedback.textContent = message;
            feedback.className = `action-feedback show ${type}`;
            
            setTimeout(() => {
                feedback.classList.remove('show');
            }, 1000);
        }

        function updateCount() {
            const count = cards.length;
            document.querySelector('.notification-count').textContent = count;
            document.querySelector('.status-metric span:last-child').textContent = `${count} pending`;
        }

        function closeTutorial() {
            document.getElementById('tutorialOverlay').classList.remove('show');
            localStorage.setItem('tutorialSeen', 'true');
        }

        // Initialize
        initCards();

        // Show tutorial on first visit
        if (!localStorage.getItem('tutorialSeen')) {
            setTimeout(() => {
                document.getElementById('tutorialOverlay').classList.add('show');
            }, 500);
        }

        // Prevent scrolling when swiping
        document.addEventListener('touchmove', function(e) {
            if (currentCard && currentCard.classList.contains('dragging')) {
                e.preventDefault();
            }
        }, { passive: false });
    </script>
</body>
</html>